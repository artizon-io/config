# https://pkg.go.dev/github.com/gokcehan/lf#hdr-Configuration
# or man lf

set icons true
set ignorecase true
set hidden true
set cleaner ~/.config/lf/clean.sh
set previewer ~/.config/lf/preview.sh

cmd delete ${{
  set -f
  printf "$fx\n\n"
  printf "delete? [y/n] "
  read ans
  [ $ans = "y" ] && rm -rf $fx
}}
map <delete> delete

cmd open ${{
  ~/.config/lf/open.sh
}}

cmd create_new ${{
  # read ans
  ans=$1
  if [ -n $ans ]; then
    echo $ans
    if [[ $ans =~ .*/$ ]]; then  # If ends in "/". regex requires [[]]
      mkdir -p $ans
    else
      touch $ans  # Doesn't create the parent dir for the file
    fi
  fi
}}
map a :push :create_new<space>
